# Upgrading TTY shells

```shell
cat /etc/shells
```

```shell
/bin/bash -i
```

```shell
/bin/sh -i
```

```shell
python -c 'import pty; pty.spawn("/bin/bash")'
```

```shell
perl -e 'exec "/bin/bash";'
```

```shell
ruby -e 'exec "/bin/bash"'
```

```shell
lua -e 'os.execute("/bin/sh")'
```

```sh
awk 'BEGIN{system("/bin/sh")}'
```

```sh
find / -name <filename> -exec /bin/awk 'BEGIN{system("/bin/sh")}' \;
```

```sh
find . -exec /bin/sh \; -quit
```

```sh
vim -c ':!/bin/sh'
```

```sh
vim
:set shell=/bin/sh
:shell
```

```shell
ls -la <path/to/file_or_binary>
```

## Stabilize Shell

1. Upgrade to an interactive shell

```shell
python3 -c 'import pty;pty.spawn("/bin/bash")'
```

If `python3` is unavailable:

```shell
python -c 'import pty;pty.spawn("/bin/bash")'
```

2. Set terminal type

```shell
export TERM=xterm
```

3. Background the shell

Press:

```text
Ctrl + Z
```

4. Fix local terminal settings

```shell
stty raw -echo; fg
```

5. Adjust terminal size (optional)

```shell
stty rows 38 columns 116
```

Full TTY shell:

```shell
script /dev/null -c bash
```

or:

```shell
reset
```
